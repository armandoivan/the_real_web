<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Simulador Mundial 2026 - Pro</title>
    <style>
        :root { --primary: #004b93; --accent: #e30613; --bg: #f4f7f6; }
        body { font-family: sans-serif; background: var(--bg); margin: 0; padding: 20px; }
        header { text-align: center; background: var(--primary); color: white; padding: 1rem; border-radius: 10px; margin-bottom: 20px; }
        
        .grid-grupos { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); 
            gap: 20px; 
        }

        .card-grupo { 
            background: white; border-radius: 12px; padding: 15px; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
        }

        .partido { 
            display: flex; align-items: center; justify-content: space-between; 
            margin-bottom: 10px; padding: 5px; border-bottom: 1px solid #eee;
        }

        .equipo-info { display: flex; align-items: center; gap: 10px; width: 40%; }
        .bandera { width: 25px; height: 18px; object-fit: cover; border: 1px solid #ddd; }
        
        input[type="number"] { 
            width: 40px; padding: 5px; text-align: center; border: 1px solid #ccc; border-radius: 4px; 
        }

        .controles { text-align: center; margin: 40px 0; }
        button { 
            padding: 15px 30px; font-size: 1.1rem; cursor: pointer; border: none; 
            border-radius: 8px; background: var(--accent); color: white; font-weight: bold;
        }

        #fase-final { 
            margin-top: 50px; display: none; background: white; padding: 20px; border-radius: 12px;
        }

        .bracket-step { margin-bottom: 30px; }
        .match-final { border: 2px solid var(--primary); margin: 10px auto; max-width: 400px; padding: 10px; border-radius: 8px; }
    </style>
</head>
<body>

<header>
    <h1>游끥 Simulador Interactivo 2026</h1>
    <p>Ingresa los resultados de cada grupo</p>
</header>

<div class="grid-grupos" id="contenedor-grupos"></div>

<div class="controles">
    <button onclick="procesarFaseGrupos()">Calcular Clasificados y Fase Final</button>
</div>

<section id="fase-final">
    <h2 style="text-align: center; color: var(--primary);">丘덢잺 Fase de Eliminaci칩n Directa</h2>
    <div id="bracket-content"></div>
</section>

<script>
    // Configuraci칩n de equipos (Nombre, C칩digo de bandera ISO 3166-1 alpha-2)
    const grupos = {
        "A": [{n: "M칠xico", c: "mx"}, {n: "Sud치frica", c: "za"}, {n: "Corea del Sur", c: "kr"}, {n: "Noruega", c: "no"}],
        "B": [{n: "Canad치", c: "ca"}, {n: "Marruecos", c: "ma"}, {n: "Irlanda", c: "ie"}, {n: "Nueva Zelanda", c: "nz"}],
        "C": [{n: "EE.UU.", c: "us"}, {n: "Paraguay", c: "py"}, {n: "Egipto", c: "eg"}, {n: "Grecia", c: "gr"}],
        "D": [{n: "Brasil", c: "br"}, {n: "Turqu칤a", c: "tr"}, {n: "Honduras", c: "hn"}, {n: "Costa de Marfil", c: "ci"}],
        "E": [{n: "Argentina", c: "ar"}, {n: "Austria", c: "at"}, {n: "Argelia", c: "dz"}, {n: "Jordania", c: "jo"}],
        "F": [{n: "Francia", c: "fr"}, {n: "Colombia", c: "co"}, {n: "Ecuador", c: "ec"}, {n: "Irak", c: "iq"}],
        "G": [{n: "Espa침a", c: "es"}, {n: "Jap칩n", c: "jp"}, {n: "Nigeria", c: "ng"}, {n: "Panam치", c: "pa"}],
        "H": [{n: "Inglaterra", c: "gb"}, {n: "Uruguay", c: "uy"}, {n: "Australia", c: "au"}, {n: "Jamaica", c: "jm"}],
        "I": [{n: "Portugal", c: "pt"}, {n: "B칠lgica", c: "be"}, {n: "Chile", c: "cl"}, {n: "Arabia Saudita", c: "sa"}],
        "J": ["Pa칤ses Bajos", "Per칰", "Senegal", "Uzbekist치n"].map(n=>({n:n, c:"un"})), // un = default
        "K": [{n: "Alemania", c: "de"}, {n: "Suiza", c: "ch"}, {n: "Ir치n", c: "ir"}, {n: "Camer칰n", c: "cm"}],
        "L": [{n: "Croacia", c: "hr"}, {n: "Dinamarca", c: "dk"}, {n: "T칰nez", c: "tn"}, {n: "Costa Rica", c: "cr"}]
    };

    function crearInterfaz() {
        const cont = document.getElementById('contenedor-grupos');
        for (const [letra, equipos] of Object.entries(grupos)) {
            let div = document.createElement('div');
            div.className = 'card-grupo';
            div.innerHTML = `<h3>Grupo ${letra}</h3>`;
            
            // Simplificado: 3 partidos representativos por grupo para el simulador
            const p1 = [equipos[0], equipos[1]];
            const p2 = [equipos[2], equipos[3]];
            
            [p1, p2].forEach((par, idx) => {
                div.innerHTML += `
                    <div class="partido">
                        <div class="equipo-info">
                            <img class="bandera" src="https://flagcdn.com/w40/${par[0].c}.png">
                            <span>${par[0].n}</span>
                        </div>
                        <input type="number" id="g-${letra}-${idx}-1" value="0">
                        <span>-</span>
                        <input type="number" id="g-${letra}-${idx}-2" value="0">
                        <div class="equipo-info" style="justify-content: flex-end">
                            <span>${par[1].n}</span>
                            <img class="bandera" src="https://flagcdn.com/w40/${par[1].c}.png">
                        </div>
                    </div>
                `;
            });
            cont.appendChild(div);
        }
    }

    function procesarFaseGrupos() {
        let clasificados = [];
        for (const letra in grupos) {
            // L칩gica simplificada: quien tenga m치s goles en su partido de prueba avanza
            const g1 = parseInt(document.getElementById(`g-${letra}-0-1`).value);
            const g2 = parseInt(document.getElementById(`g-${letra}-0-2`).value);
            clasificados.push(g1 >= g2 ? grupos[letra][0] : grupos[letra][1]);
        }

        mostrarFaseFinal(clasificados);
    }

    function mostrarFaseFinal(clasificados) {
        const finalSection = document.getElementById('fase-final');
        const bracket = document.getElementById('bracket-content');
        finalSection.style.display = 'block';
        
        let html = '<div class="bracket-step"><h3>Dieciseisavos (Simulados)</h3>';
        
        // Simular autom치ticamente hasta la final
        let actual = clasificados;
        let rondaNombre = "Octavos";
        
        while(actual.length > 1) {
            let ganadoresRonda = [];
            html += `<h4>${rondaNombre}</h4>`;
            for(let i=0; i < actual.length; i+=2) {
                if(!actual[i+1]) break;
                const ganador = Math.random() > 0.5 ? actual[i] : actual[i+1];
                ganadoresRonda.push(ganador);
                html += `
                    <div class="match-final">
                        <img class="bandera" src="https://flagcdn.com/w40/${actual[i].c}.png"> ${actual[i].n} vs 
                        ${actual[i+1].n} <img class="bandera" src="https://flagcdn.com/w40/${actual[i+1].c}.png">
                        <br><b>Ganador: ${ganador.n}</b>
                    </div>
                `;
            }
            actual = ganadoresRonda;
            rondaNombre = actual.length === 2 ? "FINAL" : "Siguiente Ronda";
        }

        html += `<h2 style="color:gold; text-align:center">游끥 CAMPE칍N: ${actual[0].n} 游끥</h2>`;
        bracket.innerHTML = html;
        window.scrollTo(0, document.body.scrollHeight);
    }

    window.onload = crearInterfaz;
</script>
</body>
</html>
