<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Action Heroes Universe</title>

<style>
body{
margin:0;
font-family:Arial, Helvetica, sans-serif;
background:#0f0f0f;
color:white;
transition:0.5s;
}

header{
background:#e50914;
padding:20px;
text-align:center;
font-size:28px;
font-weight:bold;
}

.section-tabs{
text-align:center;
padding:10px;
}

.section-tabs button{
padding:8px 15px;
margin:5px;
border:none;
border-radius:20px;
background:#333;
color:white;
cursor:pointer;
}

.section-tabs button.active{
background:#e50914;
}

.container{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
gap:20px;
padding:20px;
}

.card{
background:#1c1c1c;
border-radius:15px;
padding:15px;
text-align:center;
cursor:pointer;
transition:0.3s;
box-shadow:0 0 10px black;
}

.card:hover{
transform:scale(1.05);
}

.card img{
width:100%;
height:260px;
object-fit:cover;
border-radius:10px;
}

.stars span{
font-size:20px;
cursor:pointer;
color:gray;
}

.stars .active{
color:gold;
}

/* TORNEO */

.bracket{
display:flex;
justify-content:space-around;
padding:20px;
background:#111;
}

.round{
width:30%;
}

.match{
background:#333;
margin:10px 0;
padding:8px;
border-radius:5px;
cursor:pointer;
text-align:center;
}

.match:hover{
background:#e50914;
}

.champion{
text-align:center;
font-size:22px;
padding:15px;
color:gold;
}
</style>
</head>

<body>

<header>üî• ACTION HEROES UNIVERSE üî•</header>

<div class="section-tabs">
<button onclick="setSection('all')" class="active">Todos</button>
<button onclick="setSection('cine')">Cine</button>
<button onclick="setSection('videojuegos')">Videojuegos</button>
<button onclick="setSection('series')">Series</button>
<button onclick="setSection('villanos')">Villanos</button>
<button onclick="setSection('animacion')">Animaci√≥n</button>
</div>

<div class="container" id="heroes"></div>

<h2 style="text-align:center">üèÜ TORNEO</h2>
<div class="bracket">
<div class="round" id="quarter"><h3>Cuartos</h3></div>
<div class="round" id="semi"><h3>Semifinal</h3></div>
<div class="round" id="final"><h3>Final</h3></div>
</div>
<div class="champion" id="champion"></div>

<script>

/* HEROES CON IM√ÅGENES REALES DE WIKIMEDIA */

const heroes = [
{name:"Rambo",section:"cine",img:"https://upload.wikimedia.org/wikipedia/en/5/5d/Rambo_First_Blood_Part_II.jpg"},
{name:"John Wick",section:"cine",img:"https://upload.wikimedia.org/wikipedia/en/9/98/John_Wick_TeaserPoster.jpg"},
{name:"Neo",section:"cine",img:"https://upload.wikimedia.org/wikipedia/en/c/c1/The_Matrix_Poster.jpg"},
{name:"Kratos",section:"videojuegos",img:"https://upload.wikimedia.org/wikipedia/en/a/a7/God_of_War_4_cover.jpg"},
{name:"Scorpion",section:"videojuegos",img:"https://upload.wikimedia.org/wikipedia/en/7/7e/Mortal_Kombat_11_cover_art.png"},
{name:"Nathan Drake",section:"videojuegos",img:"https://upload.wikimedia.org/wikipedia/en/1/1f/Uncharted_4_box_artwork.jpg"},
{name:"Darth Vader",section:"villanos",img:"https://upload.wikimedia.org/wikipedia/en/7/76/Darth_Vader.jpg"},
{name:"Thanos",section:"villanos",img:"https://upload.wikimedia.org/wikipedia/en/7/7b/Thanos_AIW.png"},
{name:"Joker",section:"villanos",img:"https://upload.wikimedia.org/wikipedia/en/e/e1/Joker_%282019_film%29_poster.jpg"},
{name:"Goku",section:"animacion",img:"https://upload.wikimedia.org/wikipedia/en/2/2f/Dragon_Ball_Super_Key_visual.jpg"},
{name:"Homelander",section:"series",img:"https://upload.wikimedia.org/wikipedia/en/1/11/The_Boys_Season_3.jpg"},
{name:"Geralt",section:"series",img:"https://upload.wikimedia.org/wikipedia/en/1/1e/The_Witcher_Title_Card.png"}
];

let ratings = JSON.parse(localStorage.getItem("ratings")) || {};
let votes = JSON.parse(localStorage.getItem("votes")) || {};
let section="all";

/* RENDER HEROES */

function renderHeroes(){
const container=document.getElementById("heroes");
container.innerHTML="";

heroes
.filter(h=>section==="all"||h.section===section)
.forEach(hero=>{
let avg=getAverage(hero.name);

container.innerHTML+=`
<div class="card">
<img src="${hero.img}">
<h3>${hero.name}</h3>
<div class="stars">
${[1,2,3,4,5].map(i=>
`<span onclick="rateHero('${hero.name}',${i})"
class="${i<=Math.round(avg)?'active':''}">‚òÖ</span>`
).join("")}
</div>
<p>‚≠ê ${avg.toFixed(1)}</p>
</div>
`;
});
}

function setSection(sec){
section=sec;
document.querySelectorAll(".section-tabs button")
.forEach(b=>b.classList.remove("active"));
event.target.classList.add("active");
renderHeroes();
}

function rateHero(name,value){
ratings[name]=(ratings[name]||0)+value;
votes[name]=(votes[name]||0)+1;
localStorage.setItem("ratings",JSON.stringify(ratings));
localStorage.setItem("votes",JSON.stringify(votes));
renderHeroes();
}

function getAverage(name){
if(!ratings[name]) return 0;
return ratings[name]/votes[name];
}

/* -------- TORNEO REAL -------- */

let quarterWinners=[];
let semiWinners=[];

function startTournament(){
let shuffled=[...heroes].sort(()=>Math.random()-0.5).slice(0,8);
let quarter=document.getElementById("quarter");
quarter.innerHTML="<h3>Cuartos</h3>";
document.getElementById("semi").innerHTML="<h3>Semifinal</h3>";
document.getElementById("final").innerHTML="<h3>Final</h3>";
document.getElementById("champion").innerHTML="";
quarterWinners=[];
semiWinners=[];

for(let i=0;i<8;i+=2){
quarter.innerHTML+=`
<div class="match" onclick="advance('${shuffled[i].name}','${shuffled[i+1].name}',1)">
${shuffled[i].name} vs ${shuffled[i+1].name}
</div>`;
}
}

function advance(h1,h2,round){
let winner=prompt(`¬øQui√©n gana?\n1) ${h1}\n2) ${h2}`);
winner = winner==="1"?h1:h2;

if(round===1){
quarterWinners.push(winner);
if(quarterWinners.length===4){
let semi=document.getElementById("semi");
for(let i=0;i<4;i+=2){
semi.innerHTML+=`
<div class="match" onclick="advance('${quarterWinners[i]}','${quarterWinners[i+1]}',2)">
${quarterWinners[i]} vs ${quarterWinners[i+1]}
</div>`;
}
}
}

if(round===2){
semiWinners.push(winner);
if(semiWinners.length===2){
let final=document.getElementById("final");
final.innerHTML+=`
<div class="match" onclick="advance('${semiWinners[0]}','${semiWinners[1]}',3)">
${semiWinners[0]} vs ${semiWinners[1]}
</div>`;
}
}

if(round===3){
document.getElementById("champion").innerHTML="üèÜ CAMPE√ìN: "+winner;
}
}

startTournament();
renderHeroes();

</script>

</body>
</html>
