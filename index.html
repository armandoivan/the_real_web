<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mega Quiz Pro 2026</title>
    <style>
        :root {
            --primary: #6366f1;
            --secondary: #a855f7;
            --dark: #1e293b;
            --light: #f8fafc;
            --success: #22c55e;
            --error: #ef4444;
        }

        body {
            font-family: 'Inter', system-ui, sans-serif;
            background: #0f172a;
            color: var(--light);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            background: #1e293b;
            width: 95%;
            max-width: 700px;
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        .hidden { display: none; }

        /* Pantalla de Inicio */
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1.5rem; }
        select, button {
            padding: 12px;
            border-radius: 8px;
            border: none;
            font-size: 1rem;
            cursor: pointer;
        }
        select { background: #334155; color: white; width: 100%; }

        .btn-start {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            font-weight: bold;
            grid-column: span 2;
            margin-top: 1rem;
        }

        /* Quiz UI */
        .header-quiz { display: flex; justify-content: space-between; margin-bottom: 2rem; }
        .stats-bar { font-size: 0.9rem; color: #94a3b8; }
        
        .question-card h2 { font-size: 1.5rem; margin-bottom: 1.5rem; }
        .options-grid { display: grid; gap: 0.8rem; }
        
        .opt-btn {
            background: #334155;
            color: white;
            text-align: left;
            transition: 0.3s;
        }
        .opt-btn:hover { background: #475569; }
        .opt-btn.correct { background: var(--success) !important; }
        .opt-btn.wrong { background: var(--error) !important; }

        /* Historial */
        .history-table {
            width: 100%;
            margin-top: 2rem;
            border-collapse: collapse;
            font-size: 0.8rem;
        }
        .history-table th { border-bottom: 1px solid #475569; padding: 10px; text-align: left; }
        .history-table td { padding: 10px; border-bottom: 1px solid #334155; }

        .tag { padding: 2px 6px; border-radius: 4px; font-size: 0.7rem; text-transform: uppercase; }
        .tag-easy { background: #22c55e33; color: #4ade80; }
        .tag-hard { background: #ef444433; color: #f87171; }
    </style>
</head>
<body>

<div class="container">
    <div id="view-menu">
        <h1>ðŸ§  Mega Quiz 2026</h1>
        <p>Selecciona tu desafÃ­o:</p>
        
        <div class="menu-grid">
            <div>
                <label>CategorÃ­a</label>
                <select id="sel-category">
                    <option value="deportes">âš½ Deportes</option>
                    <option value="historia">ðŸ“œ Historia</option>
                    <option value="ciencia">ðŸ§ª Ciencia</option>
                    <option value="television">ðŸ“º TelevisiÃ³n</option>
                </select>
            </div>
            <div>
                <label>Dificultad</label>
                <select id="sel-difficulty">
                    <option value="facil">FÃ¡cil</option>
                    <option value="medio">Intermedio</option>
                    <option value="dificil">DifÃ­cil</option>
                </select>
            </div>
            <button class="btn-start" onclick="startQuiz()">EMPEZAR JUEGO</button>
        </div>

        <div id="history-section">
            <h3>Ãšltimos Intentos</h3>
            <table class="history-table">
                <thead><tr><th>Fecha</th><th>Tema</th><th>Puntos</th></tr></thead>
                <tbody id="history-body"></tbody>
            </table>
        </div>
    </div>

    <div id="view-quiz" class="hidden">
        <div class="header-quiz">
            <span id="quiz-info" class="stats-bar"></span>
            <span id="quiz-score" class="stats-bar">Puntos: 0</span>
        </div>
        <div class="question-card">
            <h2 id="q-text">Pregunta</h2>
            <div id="options-box" class="options-grid"></div>
        </div>
    </div>

    <div id="view-results" class="hidden" style="text-align:center">
        <h2 id="res-title">Â¡Buen trabajo!</h2>
        <p style="font-size: 3rem" id="res-score">0/0</p>
        <button onclick="location.reload()" class="btn-start">Volver al MenÃº</button>
    </div>
</div>

<script>
    // --- BANCO DE PREGUNTAS (Estructura expandible) ---
const DB = {
    deportes: {
        facil: [
            {q: "Â¿CuÃ¡ntos minutos dura un partido de fÃºtbol oficial?", a: ["45", "90", "60", "80"], c: 1},
            {q: "Â¿QuÃ© selecciÃ³n ha ganado mÃ¡s Mundiales de fÃºtbol?", a: ["Alemania", "Italia", "Brasil", "Argentina"], c: 2},
            {q: "Â¿En quÃ© deporte se usa un 'puck'?", a: ["Baloncesto", "Hockey sobre hielo", "Golf", "Rugby"], c: 1},
            {q: "Â¿CuÃ¡ntos anillos tiene el logo de los Juegos OlÃ­mpicos?", a: ["4", "5", "6", "3"], c: 1},
            {q: "Â¿QuiÃ©n es considerado el 'Rey del Baloncesto'?", a: ["Michael Jordan", "Pau Gasol", "Usain Bolt", "Tiger Woods"], c: 0}
        ],
        medio: [
            {q: "Â¿CuÃ¡ntos puntos vale un tiro libre en baloncesto?", a: ["1", "2", "3", "0"], c: 0},
            {q: "Â¿En quÃ© ciudad se celebraron los JJ.OO. de 1992?", a: ["Madrid", "Sevilla", "Barcelona", "Londres"], c: 2},
            {q: "Â¿CÃ³mo se llama el trofeo del campeonato de la NFL?", a: ["Copa Stanley", "Vince Lombardi", "Larry O'Brien", "Copa Davis"], c: 1},
            {q: "Â¿QuiÃ©n tiene mÃ¡s tÃ­tulos de Grand Slam en tenis masculino?", a: ["Roger Federer", "Novak Djokovic", "Rafael Nadal", "Carlos Alcaraz"], c: 1}
        ],
        dificil: [
            {q: "Â¿QuiÃ©n ostenta el rÃ©cord de mÃ¡s medallas olÃ­mpicas de la historia?", a: ["Michael Phelps", "Larisa Latynina", "Usain Bolt", "Carl Lewis"], c: 0},
            {q: "Â¿En quÃ© aÃ±o ganÃ³ EspaÃ±a su primer Mundial de FÃºtbol?", a: ["2006", "2010", "2014", "2008"], c: 1},
            {q: "Â¿QuÃ© piloto de F1 ha ganado mÃ¡s campeonatos (empatado con Schumacher)?", a: ["Fernando Alonso", "Sebastian Vettel", "Lewis Hamilton", "Max Verstappen"], c: 2}
        ]
    },
    television: {
        facil: [
            {q: "Â¿En quÃ© ciudad viven Los Simpson?", a: ["Shelbyville", "Springfield", "Quahog", "South Park"], c: 1},
            {q: "Â¿CÃ³mo se llama el protagonista de 'Breaking Bad'?", a: ["Jesse Pinkman", "Walter White", "Saul Goodman", "Hank Schrader"], c: 1},
            {q: "Â¿CuÃ¡l es el nombre del bebÃ© en 'Family Guy'?", a: ["Chris", "Meg", "Stewie", "Brian"], c: 2},
            {q: "Â¿En quÃ© serie aparece un Trono de Hierro?", a: ["The Witcher", "Vikingos", "Juego de Tronos", "El SeÃ±or de los Anillos"], c: 2}
        ],
        medio: [
            {q: "Â¿CÃ³mo se llama la cafeterÃ­a donde se reunÃ­an los protagonistas de 'Friends'?", a: ["MacLaren's", "Central Perk", "The Cheesecake Factory", "Monk's"], c: 1},
            {q: "Â¿En 'Stranger Things', cÃ³mo se llama la dimensiÃ³n paralela?", a: ["El VacÃ­o", "El Mundo del RevÃ©s", "El Abismo", "La DimensiÃ³n X"], c: 1},
            {q: "Â¿QuiÃ©n es 'El Profesor' en 'La Casa de Papel'?", a: ["BerlÃ­n", "Sergio Marquina", "AndrÃ©s de Fonollosa", "Tokio"], c: 1}
        ],
        dificil: [
            {q: "Â¿En quÃ© aÃ±o se emitiÃ³ el primer episodio de 'Doctor Who'?", a: ["1963", "1975", "1955", "1980"], c: 0},
            {q: "Â¿CÃ³mo se llama el planeta de origen de Alf?", a: ["Melmac", "Krypton", "Vulcano", "Marte"], c: 0},
            {q: "Â¿QuÃ© serie de TV tiene el rÃ©cord de mÃ¡s premios Emmy ganados?", a: ["Mad Men", "Breaking Bad", "Saturday Night Live", "Frasier"], c: 2}
        ]
    },
    historia: {
        facil: [
            {q: "Â¿QuiÃ©n fue el primer presidente de los Estados Unidos?", a: ["Lincoln", "Washington", "Jefferson", "Franklin"], c: 1},
            {q: "Â¿QuÃ© civilizaciÃ³n construyÃ³ las pirÃ¡mides de Giza?", a: ["Mayas", "Incas", "Egipcios", "Romanos"], c: 2},
            {q: "Â¿En quÃ© paÃ­s naciÃ³ Adolf Hitler?", a: ["Alemania", "Austria", "Polonia", "HungrÃ­a"], c: 1}
        ],
        medio: [
            {q: "Â¿En quÃ© aÃ±o comenzÃ³ la Segunda Guerra Mundial?", a: ["1914", "1939", "1945", "1929"], c: 1},
            {q: "Â¿QuiÃ©n fue la Ãºltima reina de Egipto?", a: ["Nefertiti", "Cleopatra VII", "Hatshepsut", "Isis"], c: 1},
            {q: "Â¿QuÃ© muro cayÃ³ en 1989 simbolizando el fin de la Guerra FrÃ­a?", a: ["Muro de Adriano", "Muralla China", "Muro de BerlÃ­n", "Muro de Gaza"], c: 2}
        ],
        dificil: [
            {q: "Â¿CÃ³mo se llamaba el caballo de Alejandro Magno?", a: ["Rocinante", "BucÃ©falo", "Babieca", "Pegaso"], c: 1},
            {q: "Â¿QuÃ© tratado puso fin a la Primera Guerra Mundial?", a: ["Tratado de Tordesillas", "Tratado de Versalles", "Pacto de Varsovia", "Paz de Westfalia"], c: 1}
        ]
    },
    ciencia: {
        facil: [
            {q: "Â¿CuÃ¡l es el planeta mÃ¡s cercano al Sol?", a: ["Venus", "Marte", "Mercurio", "Tierra"], c: 2},
            {q: "Â¿QuÃ© gas respiramos los humanos para vivir?", a: ["NitrÃ³geno", "DiÃ³xido de carbono", "OxÃ­geno", "Helio"], c: 2},
            {q: "Â¿CuÃ¡l es el animal mÃ¡s grande del mundo?", a: ["Elefante", "Ballena Azul", "TiburÃ³n Ballena", "Dinosaurio"], c: 1}
        ],
        medio: [
            {q: "Â¿CuÃ¡l es el sÃ­mbolo quÃ­mico del Oro?", a: ["Ag", "Fe", "Au", "Pb"], c: 2},
            {q: "Â¿QuiÃ©n formulÃ³ la teorÃ­a de la relatividad?", a: ["Newton", "Einstein", "Darwin", "Tesla"], c: 1},
            {q: "Â¿CuÃ¡ntos huesos tiene el cuerpo humano adulto?", a: ["206", "215", "190", "250"], c: 0}
        ],
        dificil: [
            {q: "Â¿CuÃ¡l es la velocidad de la luz aprox?", a: ["300.000 km/s", "150.000 km/s", "1.000.000 km/s", "500.000 km/s"], c: 0},
            {q: "Â¿QuÃ© partÃ­cula tiene carga elÃ©ctrica negativa?", a: ["ProtÃ³n", "NeutrÃ³n", "ElectrÃ³n", "Quark"], c: 2}
        ]
    },
    arte: {
        facil: [
            {q: "Â¿QuiÃ©n pintÃ³ la 'Mona Lisa'?", a: ["Van Gogh", "Da Vinci", "Picasso", "Miguel Ãngel"], c: 1},
            {q: "Â¿En quÃ© ciudad se encuentra el museo del Louvre?", a: ["Roma", "Londres", "ParÃ­s", "Madrid"], c: 2}
        ],
        medio: [
            {q: "Â¿QuiÃ©n pintÃ³ 'La persistencia de la memoria' (relojes derretidos)?", a: ["MirÃ³", "DalÃ­", "Magritte", "Warhol"], c: 1},
            {q: "Â¿QuÃ© artista se cortÃ³ la oreja?", a: ["Vincent van Gogh", "Claude Monet", "Paul Gauguin", "Edvard Munch"], c: 0}
        ],
        dificil: [
            {q: "Â¿CuÃ¡l es la tÃ©cnica pictÃ³rica de 'Seurat' basada en puntos?", a: ["Cubismo", "Fovismo", "Puntillismo", "Impresionismo"], c: 2},
            {q: "Â¿QuiÃ©n esculpiÃ³ el 'Ã‰xtasis de Santa Teresa'?", a: ["Donatello", "Bernini", "Canova", "Rodin"], c: 1}
        ]
    }
};

    // Estado del juego
    let currentQuestions = [];
    let qIndex = 0;
    let score = 0;
    let selectedCat = "";
    let selectedDif = "";

    function startQuiz() {
        selectedCat = document.getElementById('sel-category').value;
        selectedDif = document.getElementById('sel-difficulty').value;

        // Verificar si existen preguntas para esa combinaciÃ³n
        if (!DB[selectedCat] || !DB[selectedCat][selectedDif]) {
            alert("Esta combinaciÃ³n aÃºn no tiene preguntas. Prueba Deportes/FÃ¡cil.");
            return;
        }

        // Cargar y mezclar preguntas para que no se repitan
        currentQuestions = [...DB[selectedCat][selectedDif]].sort(() => Math.random() - 0.5);
        qIndex = 0;
        score = 0;

        document.getElementById('view-menu').classList.add('hidden');
        document.getElementById('view-quiz').classList.remove('hidden');
        showQuestion();
    }

    function showQuestion() {
        const qData = currentQuestions[qIndex];
        document.getElementById('quiz-info').innerText = `Pregunta ${qIndex + 1} de ${currentQuestions.length} (${selectedCat})`;
        document.getElementById('q-text').innerText = qData.q;
        
        const box = document.getElementById('options-box');
        box.innerHTML = "";

        qData.a.forEach((opt, i) => {
            const btn = document.createElement('button');
            btn.className = 'opt-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(i, btn);
            box.appendChild(btn);
        });
    }

    function checkAnswer(idx, btn) {
        const correct = currentQuestions[qIndex].c;
        const allBtns = document.querySelectorAll('.opt-btn');
        allBtns.forEach(b => b.disabled = true);

        if (idx === correct) {
            btn.classList.add('correct');
            score++;
            document.getElementById('quiz-score').innerText = `Puntos: ${score}`;
        } else {
            btn.classList.add('wrong');
            allBtns[correct].classList.add('correct');
        }

        setTimeout(() => {
            qIndex++;
            if (qIndex < currentQuestions.length) {
                showQuestion();
            } else {
                finishQuiz();
            }
        }, 1500);
    }

    function finishQuiz() {
        document.getElementById('view-quiz').classList.add('hidden');
        document.getElementById('view-results').classList.remove('hidden');
        document.getElementById('res-score').innerText = `${score} / ${currentQuestions.length}`;
        
        saveAttempt();
    }

    // --- SISTEMA DE PUNTUACIONES (LocalStorage) ---
    function saveAttempt() {
        const attempts = JSON.parse(localStorage.getItem('quiz_history') || '[]');
        const newAttempt = {
            date: new Date().toLocaleDateString(),
            cat: selectedCat,
            dif: selectedDif,
            score: `${score}/${currentQuestions.length}`
        };
        attempts.unshift(newAttempt);
        localStorage.setItem('quiz_history', JSON.stringify(attempts.slice(0, 5))); // Guardar Ãºltimos 5
        loadHistory();
    }

    function loadHistory() {
        const attempts = JSON.parse(localStorage.getItem('quiz_history') || '[]');
        const body = document.getElementById('history-body');
        body.innerHTML = attempts.map(a => `
            <tr>
                <td>${a.date}</td>
                <td>${a.cat} <span class="tag tag-${a.dif}">${a.dif}</span></td>
                <td>${a.score}</td>
            </tr>
        `).join('');
    }

    // Inicializar
    window.onload = loadHistory;
</script>
</body>
</html>

